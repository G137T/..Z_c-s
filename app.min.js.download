/** 
 * 
 *  E-commerce Pack - Template Base - App v1.1.12
 *  @license under Custom template terms
 *  More info: ecommercepack.com.br/licencas
 *  Documentation: ecommercepack.com.br/template-base
 * 
 */
function isEmail(e){return App.isEmail(e)}function checkCartMail(){return App.checkCartMail()}!function(e){var t=e.fn.addClass;e.fn.addClass=function(a){for(var i,o=t.apply(this,arguments),s=0,n=this.length;n>s;s++)if(i=this[s],i instanceof SVGElement){var r=e(i).attr("class");if(r){var l=r.indexOf(a);-1===l&&(r=r+" "+a,e(i).attr("class",r))}else e(i).attr("class",a)}return o};var a=e.fn.removeClass;e.fn.removeClass=function(t){for(var i,o=a.apply(this,arguments),s=0,n=this.length;n>s;s++)if(i=this[s],i instanceof SVGElement){var r=e(i).attr("class");if(r){var l=r.indexOf(t);-1!==l&&(r=r.substring(0,l)+r.substring(l+t.length,r.length),e(i).attr("class",r))}}return o};var i=e.fn.hasClass;e.fn.hasClass=function(t){for(var a,o=i.apply(this,arguments),s=0,n=this.length;n>s;s++)if(a=this[s],a instanceof SVGElement){var r=e(a).attr("class");return r?-1!==r.indexOf(t):!1}return o}}(jQuery),$.fn.extend({mask_brazilian_phone:function(){var e=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},t={onKeyPress:function(t,a,i,o){i.mask(e.apply({},arguments),o)}};$(this[0]).mask(e,t)}}),$.fn.isVisible=function(){var e=$(this).offset().top,t=e+$(this).outerHeight(),a=$(window).scrollTop(),i=a+$(window).height();return t>a&&i>e},$.fn.equalHeights=function(){var e=0;$(this).each(function(){e=Math.max($(this).height(),e)}),$(this).each(function(){$(this).height(e)})},$(document).ready(function(){$body=$("body"),$html=$("html");$("#modal-container");App.init()}),$(window).resize(function(){App.viewCheck()}),$(window).load(function(){$("#blog .blog-item").length>0&&($(".blog-item .title").equalHeights(),$(".blog-item .resume").equalHeights()),$html.addClass("is-loaded")});var App=App||{};App={Settings:{},init:function(){App.viewCheck();var e=App.Settings;if($("#phone_id, #zip_code, input[name=phone], input[name=cpf], input[name=birthday]").prop("type","tel"),App.tpl_mobile)$(".toggle-search, .close-search").click(function(){$body.toggleClass("fixed-search-in")}),$(".mobile-search").on("click",function(){setTimeout(function(){$("input[name='term']").focus()},1e3)}),$("#header .btn-close").click(function(){$("#search-engine").val("").trigger("change")}),$("#search-engine").on("keyup change",function(){var e=$(".btn-close"),t=$(".btn-search");""!==$(this).val()?(e.css("display","inline"),t.css("display","none")):(e.css("display","none"),t.css("display","inline"))}),$body.prepend('<div class="zoom-mobile hide"><a href="#" class="zoom-close"><span>Ã—</span></a><i class="icon-loading bg-loading"></i><img src=""></div>'),$("#menu .has-child > a").on("click",function(e){e.preventDefault()});else{var t=e.menu;if(t.drop_items_col>0&&t.drop_levels<2){var a=$("#menu");a.find(".dropdown-menu").each(function(){var e=$(this).find(".block-list-limiter").length*t.col_wid,a=$(this).find(".block-list-limiter").length,i=$(this).closest(".has-child").hasClass("has-banner")?e+300:e+20*a;$(this).css("width",i+"px")}),a.find(".block-list-limiter").css("width",t.col_wid+"px")}$(".logo-base .menu-bars").click(function(){$html.toggleClass("menu-active")}),$(".track-link").one("mouseover",function(){App.checkCookie("correiosCode")&&$(".track-form input").val(App.getCookie("correiosCode"))}),$(".track-form button").click(function(){window.location="/rastrear-pedido?code="+$(".track-form input").val()});var i=$(".prod-image");i.mouseover(function(){$(this).parent().find(".prod-hover-image").css("opacity","1")}),i.mouseout(function(){$(this).parent().find(".prod-hover-image").css("opacity","0")}),$(".l-color").on("click",function(){return App.listChangePic($(this)),!1}),e.is_lazyLoad&&$("#menu .has-banner").one("mouseover",function(){var e=$(this).find(".cat-ban img");e.attr("src",e.data("lazy")).removeAttr("data-lazy")}),"undefined"!=typeof e.exitPopup&&App.Popup("exitPopup")}$(".prod-action").click(function(){var t=$(this).data("next"),a=$(this).closest(".product-list-item");if("1"==t)window.location.href=a.find("a").attr("href");else{var i=a.find('input[name="list_quantity"]').val()||1,o=a.data("id"),s="quantity="+i+"&id="+o;App.add_to_cart({serialized:s,afterPost:function(i){if("2"==t)window.location.href=site_url.base+"cart/view_cart";else if("function"==typeof e.listAddCallback)e.listAddCallback.call(this,i);else{var o=(a.find(".prod-main-image img"),a.find('meta[itemprop="image"]').attr("content")||a.find(".prod-main-image img").attr("src")),s=App.Templates.prodModal({img:o,title:a.find(".prod-name").text()});App.createModal({id:"prod-modal",title:"Item adicionado ao carrinho",titleEn:"Item added to cart",body:s,open:!0})}}})}}),$(".alter-qtd .qtd-btn").click(function(){App.altQtd.call(this)}),$(".add-wish").click(function(e){e.preventDefault(),App.add_to_wishlist($(this).closest(".product-list-item").data("id"))}),$(document).on("click",".open-modal",function(e){e.preventDefault(),$("#"+$(this).data("modal-id")).modal()}),setTimeout(function(){$("#flash .alert").animate({top:"5px",opacity:1},500)},200),$(document).on("click",".close-alert",function(){$(this).closest(".alert").slideUp()});var o=$("#goTop");if(o.length){var s=100,n=function(){var e=$(window).scrollTop();e>s?o.addClass("show"):o.removeClass("show")};n(),$(window).on("scroll",function(){n()}),o.on("click",function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},700)})}App.lazyLoad(),App.drawer.init(),App.Search.init(),("Ativado"==e.whats.mode||"Somente mobile"==e.whats.mode&&App.tpl_mobile)&&App.WhatsFloat(),App.toggleBox(),App.toggleBox("#menu .has-child > a"),lang.close="Fechar",$html.addClass("is-ready"),App.ready=!0},Home:function(e){$(document).ready(function(){if(e.bannerCarousel&&$("#bannerCarousel").slick(e.bannerCarousel),"undefined"!=typeof e.listCarousel){$(".prod-list.carousel .product-list-item:nth-child(2)").nextAll().hide(),App.removeLoading();var t=!1,a=function(){$(".prod-list.carousel").each(function(a){if(App.tpl_mobile&&!t){var i=$(this).find(".product-list-item:first-child .prod-main-image .slick-lazy"),o=$(this).find(".product-list-item:nth-child(2) .prod-main-image .slick-lazy");i.attr("src",i.data("lazy")).removeAttr("data-lazy"),o.attr("src",o.data("lazy")).removeAttr("data-lazy"),i.add(o).closest(".product-list-item").find(".loading-wrapper").remove(),a==$(".prod-list.carousel").length-1&&(t=!0)}$(this).isVisible()&&($(this).removeClass("carousel"),$(this).slick(e.listCarousel))})};$(window).on("scroll load",function(){$(".prod-list.carousel").length&&a()})}App.equalListHeight();var i=$("#instagram"),o=function(){i.isVisible()&&(App.Instagram(),$(window).off("scroll",o))};if("undefined"!=typeof e.insta&&i.length&&$(window).on("scroll load",o),"undefined"!=typeof e.newsPopup){if(App.tpl_mobile&&!e.newsPopup.mobile)return!1;App.Popup("newsPopup")}}),this.is_Home=!0},Category:function(e){$(document).ready(function(){if(!App.tpl_mobile&&e.viewMode){var t=$(".category-page .cat-prod-list");$(".row-item-group").click(function(){var e=($(".row-item-group.active").attr("data-col"),$(this).data("col"));App.setCookie("list-col",e,"1000"),$body.css({opacity:0}),location.reload()}),App.checkCookie("list-col")?(t.addClass("list-col-"+App.getCookie("list-col")),$("#col-"+App.getCookie("list-col")).addClass("active")):$(".items-per-row .default-mode").addClass("active"),$('[data-toggle="tooltip"]').tooltip()}var a=$("#filter_form"),i=a.find("input[name='price_min']"),o=a.find("input[name='price_max']"),s=$(".filter-btn");$(".filter-range .range-inputs input").on("keyup change",function(){s.removeClass("disabled")}),s.on("click",function(e){e.preventDefault();var t=$("#min").val(),s=$("#max").val();i.val(t.replace(/[^0-9..,]/g,"").replace(",",".")),o.val(s.replace(/[^0-9..,]/g,"").replace(",","."));var n=!0;""==t&&""==s&&(n=!1),i.prop("checked",n),o.prop("checked",n),$("#order_price").prop("checked",n),a.submit()});var n=$("#filter_form input[name=price_min]:checked").val(),r=$("#filter_form input[name=price_max]:checked").val();n&&r&&$(".active-filters .price-max").html('<i class="glyphicon glyphicon-remove"></i> R$ '+n+" - R$ "+r),$(".active-filters .price-max").click(function(e){e.preventDefault(),i.prop("checked",!1),o.prop("checked",!1),$("#order_price").prop("checked",!1),a.submit()}),$(".active-filters .sub").each(function(){$filter=$($(this).attr("href")),$filter_name=$filter.attr("title")?$filter.attr("title"):$filter.text(),$(this).html('<i class="glyphicon glyphicon-remove"></i> '+$filter_name),$(this).click(function(e){e.preventDefault(),$($(this).attr("href")).trigger("click")})}),$(".active-filters").show(),App.equalListHeight()}),this.is_Category=!0},Product:function(){$(document).ready(function(){var e=App.Settings.prods,t=$(".prod-image-active");if("undefined"!=typeof e.galleryCarousel){var a="";t.addClass("full-loading"),$("#gallery img").each(function(e){a+=0===e?'<img src="'+$(this).attr("src").replace("thumbnails","medium")+'" />':'<img class="thumb-quality" src="'+$(this).attr("src")+'" data-lazy="'+$(this).attr("src").replace("thumbnails","medium")+'" />'}),t.html(a),t.on("init",function(){t.removeClass("full-loading")}),t.on("beforeChange",function(e,t,a,i){var o=$(t.$slides.get(i));o.hasClass("thumb-quality")&&o.attr("src",o.attr("data-lazy")).removeClass("thumb-quality")}),t.slick(e.galleryCarousel)}if("undefined"!=typeof e.thumbsH&&$(".thumb-slider").slick(e.thumbsH),"undefined"!=typeof e.zoomConfig&&$("#zoom").elevateZoom(e.zoomConfig),"undefined"!=typeof e.relatedCarousel){var i=$("#prod-relateds .cat-prod-list");App.removeLoading(i),i.slick(e.relatedCarousel)}$(window).load(function(){"undefined"!=typeof e.share&&($prodShare=$(".prod-share"),$prodShare.jsSocials(e.share),$prodShare.find(".jssocials-shares").length&&$prodShare.find(".jssocials-shares a i").each(function(){var e=$(this).attr("class").split(" ")[0];App.insertIcon("append",$(this),e)}))}),e.hasVideo&&$(".inner-video").click(function(){return $.fancybox({padding:0,autoScale:!1,transitionIn:"none",transitionOut:"none",title:this.title,width:680,height:495,href:this.href.replace(new RegExp("watch\\?v=","i"),"v/"),type:"swf",swf:{wmode:"transparent",allowfullscreen:"true"}}),!1}),App.tpl_mobile?($("#prod-images-block .prod-image img, #prod-images-block .btn-zoom").click(function(){var e="",t=$(".showcase .prod-image .slick-active");e=t.length?t.attr("src").replace("medium","full"):$(".showcase .prod-image img").attr("src").replace("medium","full"),App.zoom("in",e,"#prod-images-block")}),$(document).on("click",".zoom-close",function(){App.zoom("out")})):$("#gallery a").click(function(){$(".prod-image-active img").attr("src",App.theme_img("big-loading.gif"))}),e.sizeTable&&$(".prod-size-table a").on("click",function(e){e.preventDefault();var t=$("#size-table"),a=t.find(".img-lazy");a.length?a.each(function(){$(this).attr("src",$(this).attr("data-src"))}):t.find(".icon-loading").remove(),t.modal()}),$(".slide-up").click(function(e){return $(".thumb-slider a.first").prev().hasClass("thumb")&&($(".thumb-slider a.first").removeClass("first").prev().addClass("first"),$(".thumb-slider a.last").removeClass("last").prev().addClass("last"),$(".thumb-slider").animate({marginTop:"+=80px"},"slow")),e.preventDefault(),!1}),$(".slide-down").click(function(e){return $(".thumb-slider a.last").next().hasClass("thumb")&&($(".thumb-slider a.last").removeClass("last").next().addClass("last"),$(".thumb-slider a.first").removeClass("first").next().addClass("first"),$(".thumb-slider").animate({marginTop:"-=80px"},"slow")),e.preventDefault(),!1}),$("#product .prod-buy-action .buy-btn").hover(function(){$("#product .pending-variant .pending-message:first").fadeIn()},function(){$("#product .pending-variant .pending-message:first").fadeOut()}),$(".prod-variant-btn").click(function(){$("#product .prod-variants").hasClass("dropdown-options")&&$(this).closest(".dropdown").find(".dropdown-variant-title").text($(this).attr("title")),$(this).closest(".prod-variant-li").removeClass("pending-variant")}),$(".prod-variant-btn").click(function(){if(App.tpl_mobile){var e=$(".opt-"+$(this).data("id")).data("slick-index");$(".prod-image-active").slick("slickGoTo",e)}else App.prodChangePic($(this).data("id"))}),e.contBuy&&$(".formAddCart").on("submit",function(t){t.preventDefault(),App.add_to_cart({serialized:$(this).serialize(),afterPost:function(t){if("function"==typeof e.contBuyAddCallback)e.contBuyAddCallback.call(this,t);else{var a=$(".prod-thumb-primary").attr("src")||$("#gallery .first img").attr("src"),i=$(".prod-variant-btn.active"),o="";i.each(function(){o+='<p stye="margin:0"><strong>'+$(this).closest(".prod-variant").find(".option-name").text()+"</strong> "+$(this).attr("title")+"</p> "});var s=App.Templates.prodModal({img:a,title:$(".prod-title").text(),vari:o});App.createModal({id:"prod-modal",title:"Item adicionado ao carrinho",titleEn:"Item added to cart",body:s,open:!0})}}})});var o=$(".frete #zip_code");$(".frete .input-group-btn").on("click",function(){$(".frete .btn").hasClass("disabled")?o.focus():""}),o.on("keyup",function(){var e=o.val().length;9>e?$("#form-shipping input[type=submit]").addClass("disabled"):$("#form-shipping input[type=submit]").removeClass("disabled")}),App.equalListHeight()}),this.is_Product=!0},Final:function(){$(document).ready(function(){$(".cart-page #zip_code").attr("placeholder","CEP"),$("html[data-lang='portugues'] .cart-page input[name='box_coupon_code']").attr("placeholder","Digite aqui"),$("html[data-lang='portugues'] .cart-page #store-content .btn-search-address").text("Calcular frete"),App.insertIcon("append",".final-page .fa-ticket","i-ticket","i-fw"),App.insertIcon("append",".final-page .fa-truck","i-truck","i-fw"),App.insertIcon("html",$(".glyphicon-lock").parent(),"i-lock","i-fw",function(e){e.append('<span class="middle"> Compra segura')}),App.insertIcon("html",$(".glyphicon-home").parent(),"i-home","i-fw",function(e){e.append('<span class="middle"> Entrega garantida')});var e=$("#company_fields_btn");if(e.length){var t=$("#person_fields_btn");$("<div/>",{id:"account-type","class":"col-xs-12"}).appendTo($(".checkout-page .cart-account-header")),t.add(e).appendTo($("#account-type")),e.text(e.text().replace("Eu sou","Sou")),t.text(t.text().replace("Eu sou","Sou"))}var a=$("#store-content #cartview .btn-open-login"),i=a.text().replace("? Login","").replace("/Login","");a.html('<span class="im-customer">'+i+"</span>"),$(document).on("change keyup",".controls input",function(){$(this).closest("td").find(".alter_qty").addClass("alter-qty-in")}),App.tpl_mobile?$(".go-back").click(function(){return $("body").is(".power-checkout.checkout-page")?(location.href="/cart/view_cart",!1):void(location.href=site_url.base)}):$(".cart-functions .col-md-4:nth-child(2)").prependTo($(".cart-functions"))}),this.is_Final=!0},Search:{show:function(){$("#search-results").show()},close:function(){$body.click(function(e){var t=$(e.target);t.is("#search-results")||t.is("#top-search input")||($("#search-results").hide(),$("#search-loader").hide())})},mouse_navigation:function(){$("#search-results a:not(:last-child)").hover(function(){""!=$(this).attr("id")&&(search_current_selection=$(this).attr("id").substr(14),App.Search.set_selected(search_current_selection))},function(){$("#search-results a").removeClass("up"),search_current_url=""})},set_selected:function(e){var t=$("#search-results a");t.removeClass("up"),t.eq(e).addClass("up"),search_current_url=t.eq(e).attr("href")},run_query:function(){$this=this,$loader=$("#search-loader"),$results_in=$("#search-results-in"),$loader.show(),$.post(site_url.search_ajax,{name:$("#search-engine").val(),limit:10},function(e){$results_in.html("");var t="Nenhum produto foi encontrado.",a=0;$.each(e,function(e,i){if("count"==e)t=50==i?"Foram encontrados mais de "+i+" produtos.":"Foram encontrados "+i+" produtos.";else if($("#search-results").show(),0==$(".search-result-"+e).length){var o="",s="";$.each(i.categories,function(){s=this.name}),"0.00"==i.saleprice?(product_price=i.price.replace(".",","),o='<span class="price">R$ '+product_price+"</span>"):(product_saleprice=i.saleprice.replace(".",","),product_price=i.price.replace(".",","),o='<span class="price-block"><span class="price slash">R$ '+product_price+'</span><span class="price sale">R$ '+product_saleprice+"</span></span>"),$results_in.append('<a href="'+site_url.base+i.slug+'" id="search-result-'+a+'" class="search-result-'+e+'"><div class="line"><div class="image text-center">'+i.image+'</div><div class="desc"><span class="name">'+i.name+'</span><span class="category">'+s+"</span> "+o+'</div><div class="clearfix"></div></div></a>'),a++}}),$results_in.append('<div class="last text-center"><a href="#" onclick="$(\'#form-search\').submit();"><strong>Listar resultados</strong><br />'+t+"</a></div>"),$loader.hide(),App.Search.show(),App.Search.mouse_navigation(),App.Search.close()},"json")},init:function(){search_current_selection=0,search_current_url="",$("#search-engine").focus(function(){$("#search-results-in a").size()>1&&App.Search.show()}),$("#top-search input").on("keyup",function(e){var t=e.keyCode;if(38==t||40==t||13==t){switch(0==$("#search-results a.up").size()&&(search_current_selection=-1),e.keyCode){case 38:-1!=search_current_selection&&0!=search_current_selection&&search_current_selection--;break;case 40:search_current_selection!=$("#search-results a").size()-1&&search_current_selection++;break;case 13:""==search_current_url&&$("#form-search").submit(),""!=search_current_url&&(document.location=search_current_url)}App.Search.set_selected(search_current_selection)}else t>=16&&20>=t||t>=33&&37>=t||39==t||45==t||t>=112&&145>=t||App.Search.run_query()}),$("#top-search button").on("click",function(){$("#form-search").submit()})}},lazyLoad:function(){if(App.Settings.is_lazyLoad||App.Settings.is_listingLazy){new Blazy({loadInvisible:!0,src:"data-lazy",offset:200,success:function(e){var t=$(e).closest(".imgGroup").find(".loading-wrapper");t.length&&t.remove()}})}},is_smallScreen:function(){var e=window.matchMedia("(max-width: 767px)");return e.matches},drawer:{init:function(){var e=this;$(document).on("click touch",".open-drawer",function(){var t=$(this).data("drawer-custom-class"),a=$(this).data("drawer-side")?$(this).data("drawer-side"):"left",i=$(this).data("drawer-target");i="#"==i.substring(0,1)||"."==i.substring(0,1)?i:"#"+i;var o={side:a,customClass:t?" "+t:"",target:i};e.open(o)})},open:function(e,t){var a=this;$html.addClass("drawer-in"+(e.side?" drawer-in-"+e.side:"")+" "+e.customClass),$(e.target).addClass("drawer-active"),$(".drawer-cover").attr("aria-expanded","true"),"function"==typeof t&&$html.hasClass("drawer-in")&&t.call(this),$(document).on("click touch",".drawer-in .open-drawer, .drawer-cover",function(){a.close(e)})},close:function(e,t){var a="function"==typeof e||"undefined"==typeof e;a&&$(".drawer-cover").attr("aria-expanded")?($(".drawer-cover").trigger("click"),"function"==typeof e&&e()):($html.removeClass("drawer-in"+(e.side?" drawer-in-"+e.side:"")+" "+e.customClass),$(e.target).removeClass("drawer-active"),$(".drawer-cover").attr("aria-expanded","false"),"function"!=typeof t||$html.hasClass("drawer-in")||t())}},removeLoading:function(e){if(App.Settings.is_listingLazy){var e=e||$(".prod-list");e.on("lazyLoaded swipe click",function(){var e=$(this).find(".slick-active");e.closest(".product-list-item").find(".loading-wrapper").remove()})}},equalListHeight:function(){$(".product-list-item").length>0&&($(".product-list-item .prod-info .prod-name").equalHeights(),$(".product-list-item .prod-info .prod-brand").equalHeights(),$(".product-list-item .prod-info .price").equalHeights(),App.tpl_mobile?$(".product-list-item .prod-info .buy-price").equalHeights():"",$(".product-list-item .prod-info .onsight-price").equalHeights(),$(".product-list-item .prod-info").equalHeights(),$(".product-list-item .prod-image").equalHeights(),$(".product-list-item .prod-wrapper").equalHeights())},setCookie:function(e,t,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},getCookie:function(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var o=a[i];" "==o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""},delCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},checkCookie:function(e){var t=!1;return""!==this.getCookie(e)&&(t=!0),t},getRealCookie:function(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var o=a[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},delRealCookie:function(e,t){document.cookie=e+"="+t+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},checkCartMail:function(){var e=this.getRealCookie("cartmail");return""!=e?e:void 0},isEmail:function(e){return er=/^[a-zA-Z0-9][a-zA-Z0-9\._-]+@([a-zA-Z0-9\._-]+\.)[a-zA-Z-0-9]{2}/,!!er.exec(e)},getParam:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=a.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},tabs_hash:function(){if(window.location.hash){var e=window.location.hash;$('#mytabs a[href="'+e+'"]').tab("show").trigger("click")}},altQtd:function(){var e=$(this).closest(".alter-qtd").find("input"),t="";t=$(this).hasClass("qtd-minus")?parseFloat(e.val())-1:parseFloat(e.val())+1,t=1>t?1:t,e.val(t),e.change()},goTo:function(e){$("html,body").animate({scrollTop:$(e).offset().top},"slow")},zoom:function(e,t,a){var i=$(".zoom-mobile"),o=$("meta[name=viewport]");"in"==e&&($body.addClass("zoom-active"),i.removeClass("hide"),i.find("img").attr("src",t),o.attr("content","width=device-width, initial-scale=1"),i.find(".zoom-close").attr("href",a)),"out"==e&&($body.removeClass("zoom-active"),i.addClass("hide"),i.find("img").attr("src",""),o.attr("content","width=device-width, initial-scale=1.0, maximum-scale=1.0"))},listChangePic:function(e){var t=e.find(".sub").data("opt");e.parents(".prod-wrapper").find(".ig-option").hide(),e.parents(".prod-wrapper").find(".ig-"+t).show()},prodChangePic:function(e){$variation_photo=$(".opt-"+e),$variation_photo_first=$(".opt-"+e+":first"),$variation_photo_global=$(".opt-no"),$variation_not=$(".prod-image-thumbs a"),$variation_photo_first.trigger("click"),$variation_not.hide(),$variation_photo.show(),$variation_photo_global.show()},insertIcon:function(e,t,a,i,o){var s='<svg class="'+a+" svg-icon"+(i?" "+i:"")+'"><use xlink:href="#'+a+'" /></svg>';if($(t)[e](s),"function"==typeof o){var n=$(t);o(n)}},changeIcon:function(e,t,a){var i=$(e);i.find("use").attr("xlink:href","#"+t),i.addClass("icon-changed"+(a?" "+a:""))},toggleBox:function(e,t,a){var i=$(e||".box-trigger"),o=i.not(".is-desktop .toggle-on-mobile "+(e||".box-trigger"));o.click(function(){var e=$(this).closest(t||".box-item");e.hasClass("box-active")?e.removeClass("box-active"):(e.closest(a||".box-group").find(".box-active").removeClass("box-active"),e.addClass("box-active"))})},theme_img:function(e){var t=site_url.theme_img,a=t.indexOf("?v=");return t.slice(0,a)+e},add_to_cart:function(e){var t=function(){},a=$.extend({},{defaultLoading:!0,updateTopCart:!0,beforePost:t,onError:t,afterPost:t},e);a.beforePost(),a.defaultLoading&&($("#flash .col-xs-12").html('<div class="alert alert-notify" style="display:none; opacity: 1; top:0;"><i class="icon-loading"></i> '+lang.loading+"</div>"),$("#flash .alert-notify").slideDown()),$.post(site_url.add_to_cart,a.serialized,function(e){if(e.error)a.onError.call(this,e),$("#flash .col-xs-12").html('<div class="alert alert-danger" style="display:none; opacity: 1;">'+e.message+'<a class="close-alert'+(e.error?"":" hide")+'">'+lang.close+"</a></div>"),$("#flash .alert-danger").slideDown();else{if($totalItens=$("#view_cartTotalItens"),a.updateTopCart&&$totalItens.length){var t="R$ "+e.total.toFixed(2).replace(".",","),i=0;$("#view_cartTotalValue").text(t),$.each(e.cart_items,function(e,t){i+=t.quantity}),$totalItens.text(i).removeClass("vazio"),$("#cart-box").remove(),$(".top-cart").append('<div id="cart-box" class="box-wrap hide-mobile"></div>'),$("#cart-box").load("/ #cart-box > *")}a.afterPost.call(this,e),a.defaultLoading&&$("#flash .alert-notify").fadeOut(function(){$(this).remove()})}},"json")},add_to_wishlist:function(e,t){$.post(site_url.base+"secure/addwish/"+e+"/"+t,function(e){1==e.error?($("#flash .col-xs-12").html('<div class="alert alert-danger" style="display:none; opacity: 1;">'+e.message+'<a class="close-alert'+(e.error?"":" hide")+'">'+lang.close+"</a></div>"),$("#flash .alert-danger").slideDown()):($(".wish-alert").show(),$(".wish-alert").addClass("success").text(e.message),$("#flash .col-xs-12").html('<div class="alert alert-success" style="display:none; opacity: 1;">'+e.message+'<a class="close-alert">'+lang.close+"</a></div>"),$("#flash .alert-success").slideDown())})},headerFixed:function(e,t){$(window).scroll(function(){$(window).scrollTop()>e?$body.addClass(t):$body.removeClass(t)})},viewCheck:function(){var e=$("body"),t=site_url.base.slice(0,-1),a=$('a[href$="step=final"]');if(a.length&&a.attr("href",a.attr("href")+(App.tpl_mobile?"&view=is-mobile":"")),App.is_smallScreen()&&e.hasClass("is-desktop"))-1===window.location.href.indexOf("view=is-mobile")&&(e.css({opacity:0}),location.href=t+("/"!=window.location.pathname?window.location.pathname:"")+"?view=is-mobile");else if(!App.is_smallScreen()&&screen.width>767&&e.hasClass("is-mobile")&&-1===window.location.href.indexOf("view=is-desktop")){e.css({opacity:0});var i=App.is_Checkout&&"power-checkout"===App.Settings.checkout_type?"&step=final":"";location.href=t+("/"!=window.location.pathname?window.location.pathname:"")+"?view=is-desktop"+i}},createModal:function(e){var t=$("#modal-container");t.html(""),$("<div/>",{id:e.id,"class":"modal-dialog "+e.customClass,"data-popup":e.customClass}).appendTo(t);var a=$html.hasClass("english")?e.titleEn||e.title:e.title,i='<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>',o='<div class="modal-header">'+i+'<h4 class="modal-title">'+(a||"")+"</h4></div>",s='<div class="modal-content">'+i+(e.content||"")+"</div>",n='<div class="modal-body">'+e.body+"</div>",r=t.find("#"+e.id);e.content?r.html(s):r.html('<div class="modal-content">'+(0==e.header?i:o)+n+"</div>"),e.open&&t.modal()},Templates:{prodModal:function(e){var t='<div class="row"><div class="prod-modal-item"><div class="col-sm-4"><div class="prod-modal-img"><img src="'+(e.img||"")+'"></div></div><div class="col-sm-8"><div class="prod-modal-info text-right-sm"><p class="prod-modal-title">'+(e.title||"")+'</p><span class="prod-modal-variant">'+(e.vari||"")+'</span></div><div class="prod-modal-action"><div class="pull-right-sm"><a href="/cart/view_cart"><span class="btn btn-block btn-primary">Finalizar Compra</span></a><button type="button" class="btn btn-block btn-default" data-dismiss="modal"><span aria-hidden="true">Continuar Comprando</span></button></div></div></div></div></div>';return t},newsPopup:function(e){var t='<div class="modal-body"><h1>'+e.title+"</h1><p>"+e.body+'</p><form action="'+site_url.base+'contact/newsletter_signup" method="post" accept-charset="utf-8"><div class="form-group input-name"><label class="sr-only">Nome</label><input type="text" class="form-control input-lg" name="fullname" placeholder="Seu nome"></div><div class="form-group input-email"><label class="sr-only">E-mail</label><input type="email" class="form-control input-lg" name="email"placeholder="Seu email"></div><button class="btn input-lg" type="submit">'+e.btnText+"</button></form><span>"+e.subText+"</span></div>";return t},exitPopup:function(e){var t='<div class="modal-body"><h1>'+e.title+"</h1><p>"+e.body+'</p><form action="'+site_url.base+'contact/newsletter_signup" method="post" accept-charset="utf-8"><div class="form-group input-email"><label class="sr-only">E-mail</label><input type="email" class="form-control input-lg" name="email"placeholder="Seu email"></div><button class="btn input-lg" type="submit">'+e.btnText+"</button></form><span>"+e.subText+"</span></div>";return t}},Instagram:function(){var e=App.Settings.home.insta;if(e.token){var t=$("#instagram");t.length&&!t.find("li").length&&$.ajax({url:"https://api.instagram.com/v1/users/"+e.id+"/media/recent",dataType:"jsonp",type:"GET",data:{access_token:e.token,count:e.photoQtd},success:function(a){var i=a.meta.error_message;try{if("undefined"!=typeof i)throw i;for(var o=0;o<a.data.length;o++)t.find(".insta-feed").append('<li><a href="'+a.data[o].link+'" target="_blank" rel="noopener nofollow">'+(e.showStats&&!App.tpl_mobile?'<div class="stats"><span class="likes"><svg class="i-heart-o i-fw svg-icon"><use xlink:href="#i-heart-o" /></svg> '+a.data[o].likes.count+'</span><span class="comments"><svg class="i-comments i-fw svg-icon"><use xlink:href="#i-comments" /></svg> '+a.data[o].comments.count+"</span></div>":"")+'<span class="photo" style="background-image:url('+a.data[o].images.standard_resolution.url+')"></span></a></li>')}catch(s){return console.log("instagram error: "+s),t.hide(),!1}t.find(".full-loading").removeClass("full-loading"),(App.tpl_mobile||e.photoQtd>7&&!App.tpl_mobile)&&$("#instagram ul").slick(e.carousel)},error:function(e){t.hide(),console.log("Insta: "+e)}})}},WhatsFloat:function(){var e=App.Settings.whats;if(e.number){var t=e.number.replace(/[^0-9]/gi,""),a=e.msg?"&text="+encodeURIComponent(e.msg):"",i=e.icon?"background:url(https://assets.xtechcommerce.com/uploads/images/medium/"+e.icon+") no-repeat;":"";$body.append('<a class="whats-float" target="_blank" href="'+e.url+t+a+'" style="'+("Direito"==e.side?"right":"left")+":20px;"+i+" bottom:"+(e.bottom||"60")+'px;"></a>')}},Popup:function(e){var t="exitPopup"==e,a=t?App.Settings.exitPopup:App.Settings.home.newsPopup,i=$("#modal-container"),o=function(e){var t=App.Templates[e](a);App.createModal({id:"popup",customClass:e,header:!1,content:t}),i.modal({backdrop:!0})};if(t)a.daily||App.delRealCookie("exit_cookie","popup"),setTimeout(function(){$(document).ready(function(){var t=App.getRealCookie("exit_cookie");null!=t&&0!=t.length||$(document).mousemove(function(t){if(t.pageY<=5&&0==$("#exitControl").val()&&!$body.hasClass("modal-open")){o(e),$("#exitControl").val("1");var a=new Date;a=new Date(a.getTime()+864e5),document.cookie="exit_cookie=popup; expires="+a}})})},a.delay);else{var s=App.checkCookie("news_popup");a.daily&&s||(o(e),App.setCookie("news_popup","1","1"))}}};var is_mobile=App.is_smallScreen();


$(function(){
    
    $('.prod-variant-btn').click(function(){
                
        // If mobile, go to slide of option picture
        if ( App.tpl_mobile ) {
           var i = 0;
           var $opt = $('.opt-'+$(this).data('id'));
           
           $opt.each(function(){
            	var index = $(this).data('slick-index');
               	if ( index > 0 ){
               		i = index;
               	}	
           });

           $(".prod-image-active").slick('slickGoTo', i);
            
        } else {
            App.prodChangePic($(this).data('id'));                    
        }
    });
});